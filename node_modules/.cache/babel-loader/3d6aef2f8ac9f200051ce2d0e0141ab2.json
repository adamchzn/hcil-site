{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport firebase from \"firebase\";\nimport { BrowserRouter as Router, Switch, Route, Link, useHistory } from \"react-router-dom\";\nimport { getNotebookRoute } from \"./routes\";\nexport const useCreateNewNotebook = () => {\n  _s();\n\n  const history = useHistory();\n  return () => {\n    const ref = firebase.database().ref(\"notebooks/\");\n    const notebookID = ref.push().key;\n    const notebook = {\n      title: \"\"\n    };\n    history.push(getNotebookRoute(notebookID));\n    ref.child(notebookID).set(notebook);\n    console.log(notebookID);\n    createNewCell(notebookID, notebook);\n  };\n};\n\n_s(useCreateNewNotebook, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\nexport const createNewCell = (notebookID, notebook) => {\n  const ref = firebase.database().ref(\"cells/\");\n  const cellID = ref.push().key;\n  ref.child(cellID).set({\n    notebookID: notebookID,\n    name: \"\",\n    input: \"\",\n    output: \"\",\n    description: \"\"\n  });\n  console.log(notebook);\n  const notebookRef = firebase.database().ref(\"notebooks/\" + notebookID + \"/cells\");\n  notebookRef.set([...(notebook.cells == null ? [] : notebook.cells), cellID]);\n};\nexport function dataToString(data) {\n  if (data == null) {\n    return \"Loading...\";\n  }\n\n  let stringOutput = \"\";\n\n  for (const ID in data) {\n    stringOutput += ID + \"\\n\";\n    stringOutput += data[ID].join(\", \") + \"\\n\";\n  }\n\n  return stringOutput;\n}","map":{"version":3,"sources":["/Users/adamchazan/Documents/hcil-site/src/utilities.js"],"names":["firebase","BrowserRouter","Router","Switch","Route","Link","useHistory","getNotebookRoute","useCreateNewNotebook","history","ref","database","notebookID","push","key","notebook","title","child","set","console","log","createNewCell","cellID","name","input","output","description","notebookRef","cells","dataToString","data","stringOutput","ID","join"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,UAArB;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,MAFF,EAGEC,KAHF,EAIEC,IAJF,EAKEC,UALF,QAMO,kBANP;AAOA,SAASC,gBAAT,QAAiC,UAAjC;AAEA,OAAO,MAAMC,oBAAoB,GAAG,MAAM;AAAA;;AACxC,QAAMC,OAAO,GAAGH,UAAU,EAA1B;AAEA,SAAO,MAAM;AACX,UAAMI,GAAG,GAAGV,QAAQ,CAACW,QAAT,GAAoBD,GAApB,CAAwB,YAAxB,CAAZ;AACA,UAAME,UAAU,GAAGF,GAAG,CAACG,IAAJ,GAAWC,GAA9B;AACA,UAAMC,QAAQ,GAAG;AACfC,MAAAA,KAAK,EAAE;AADQ,KAAjB;AAIAP,IAAAA,OAAO,CAACI,IAAR,CAAaN,gBAAgB,CAACK,UAAD,CAA7B;AAEAF,IAAAA,GAAG,CAACO,KAAJ,CAAUL,UAAV,EAAsBM,GAAtB,CAA0BH,QAA1B;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYR,UAAZ;AACAS,IAAAA,aAAa,CAACT,UAAD,EAAaG,QAAb,CAAb;AACD,GAZD;AAaD,CAhBM;;GAAMP,oB;UACKF,U;;;AAiBlB,OAAO,MAAMe,aAAa,GAAG,CAACT,UAAD,EAAaG,QAAb,KAA0B;AACrD,QAAML,GAAG,GAAGV,QAAQ,CAACW,QAAT,GAAoBD,GAApB,CAAwB,QAAxB,CAAZ;AACA,QAAMY,MAAM,GAAGZ,GAAG,CAACG,IAAJ,GAAWC,GAA1B;AAEAJ,EAAAA,GAAG,CAACO,KAAJ,CAAUK,MAAV,EAAkBJ,GAAlB,CAAsB;AACpBN,IAAAA,UAAU,EAAEA,UADQ;AAEpBW,IAAAA,IAAI,EAAE,EAFc;AAGpBC,IAAAA,KAAK,EAAE,EAHa;AAIpBC,IAAAA,MAAM,EAAE,EAJY;AAKpBC,IAAAA,WAAW,EAAE;AALO,GAAtB;AAQAP,EAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AAEA,QAAMY,WAAW,GAAG3B,QAAQ,CACzBW,QADiB,GAEjBD,GAFiB,CAEb,eAAeE,UAAf,GAA4B,QAFf,CAApB;AAGAe,EAAAA,WAAW,CAACT,GAAZ,CAAgB,CAAC,IAAIH,QAAQ,CAACa,KAAT,IAAkB,IAAlB,GAAyB,EAAzB,GAA8Bb,QAAQ,CAACa,KAA3C,CAAD,EAAoDN,MAApD,CAAhB;AACD,CAlBM;AAoBP,OAAO,SAASO,YAAT,CAAsBC,IAAtB,EAA4B;AACjC,MAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,WAAQ,YAAR;AACD;;AAED,MAAIC,YAAY,GAAG,EAAnB;;AAEA,OAAK,MAAMC,EAAX,IAAiBF,IAAjB,EAAuB;AACrBC,IAAAA,YAAY,IAAIC,EAAE,GAAG,IAArB;AACAD,IAAAA,YAAY,IAAID,IAAI,CAACE,EAAD,CAAJ,CAASC,IAAT,CAAc,IAAd,IAAsB,IAAtC;AACD;;AACD,SAAOF,YAAP;AACD","sourcesContent":["import firebase from \"firebase\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useHistory,\n} from \"react-router-dom\";\nimport { getNotebookRoute } from \"./routes\";\n\nexport const useCreateNewNotebook = () => {\n  const history = useHistory();\n\n  return () => {\n    const ref = firebase.database().ref(\"notebooks/\");\n    const notebookID = ref.push().key;\n    const notebook = {\n      title: \"\",\n    };\n\n    history.push(getNotebookRoute(notebookID));\n\n    ref.child(notebookID).set(notebook);\n    console.log(notebookID);\n    createNewCell(notebookID, notebook);\n  };\n};\n\nexport const createNewCell = (notebookID, notebook) => {\n  const ref = firebase.database().ref(\"cells/\");\n  const cellID = ref.push().key;\n\n  ref.child(cellID).set({\n    notebookID: notebookID,\n    name: \"\",\n    input: \"\",\n    output: \"\",\n    description: \"\",\n  });\n\n  console.log(notebook);\n\n  const notebookRef = firebase\n    .database()\n    .ref(\"notebooks/\" + notebookID + \"/cells\");\n  notebookRef.set([...(notebook.cells == null ? [] : notebook.cells), cellID]);\n};\n\nexport function dataToString(data) {\n  if (data == null) {\n    return (\"Loading...\");\n  }\n\n  let stringOutput = \"\";\n\n  for (const ID in data) {\n    stringOutput += ID + \"\\n\"\n    stringOutput += data[ID].join(\", \") + \"\\n\"\n  }\n  return stringOutput;\n}\n"]},"metadata":{},"sourceType":"module"}