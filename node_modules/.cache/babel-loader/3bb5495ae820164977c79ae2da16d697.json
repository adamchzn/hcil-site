{"ast":null,"code":"import { CALCULATIONS, CELL_TYPES } from \"./constants.js\"; // calculate mean\n\nexport function mean(input) {\n  const output = {};\n\n  for (const columnID in input) {\n    const column = input[columnID];\n    let sum = 0;\n\n    for (let i in column) {\n      sum += column[i];\n    }\n\n    const mean = sum / column.length;\n    output[columnID] = [mean];\n  }\n\n  return output;\n} // calculate median\n\nexport function median(input) {\n  const output = {};\n\n  for (const columnID in input) {\n    const column = input[columnID];\n    let midpoint = 0;\n    let median = 0;\n\n    if (column.length % 2 === 0) {\n      //even\n      midpoint = column.length / 2; // need to order by value first\n\n      const sorted = [...column].sort((a, b) => a - b);\n      console.log(sorted);\n      median = (sorted[midpoint] + sorted[midpoint - 1]) / 2;\n    }\n\n    if (column.length % 2 === 1) {\n      //odd\n      midpoint = Math.floor(column.length / 2); // need to order by value first\n\n      const sorted = [...column].sort();\n      median = sorted[midpoint];\n    }\n\n    output[columnID] = [median];\n  }\n\n  return output;\n} // calculate maximum\n\nexport function max(input) {\n  const output = {};\n\n  for (const columnID in input) {\n    const column = input[columnID];\n    let max = 0;\n\n    for (let i in column) {\n      if (column[i] > max) {\n        max = column[i];\n      }\n    }\n\n    output[columnID] = [max];\n  }\n\n  return output;\n} // calculate minimum\n\nexport function min(input) {\n  const output = {};\n\n  for (const columnID in input) {\n    const column = input[columnID];\n    let min = 0;\n\n    for (let i in column) {\n      if (column[i] < min) {\n        min = column[i];\n      }\n    }\n\n    output[columnID] = [min];\n  }\n\n  return output;\n} // create template data\n\nexport function dumbdata() {\n  const data = {\n    columnOne: [1, 4, 6, 5, 3, 2, 35, 6, 7, 4],\n    columnTwo: [32, 4, 7, 11, 27, 1, 4, 15, 5, 2],\n    columnThree: [8, 4, 3, 6, 77, 33, 56, 2, 1, 3]\n  };\n  return data;\n} // perform calculation\n\nexport function docalculations(cells, cellIDs) {\n  const results = {};\n\n  for (const i in cellIDs) {\n    const input = i === 0 ? {} : results[cellIDs[i - 1]];\n    let output;\n    const cellID = cellIDs[i];\n\n    switch (cells[cellID].type) {\n      case CELL_TYPES.calculation:\n        switch (cells[cellID].calculation) {\n          case CALCULATIONS.mean:\n            output = mean(input);\n            break;\n\n          case CALCULATIONS.median:\n            output = median(input);\n            break;\n\n          case CALCULATIONS.min:\n            output = min(input);\n            break;\n\n          case CALCULATIONS.max:\n            output = max(input);\n            break;\n        }\n\n        break;\n\n      case CELL_TYPES.chart:\n        output = {};\n        break;\n\n      case CELL_TYPES.loadData:\n        output = dumbdata();\n        break;\n    }\n\n    results[cellID] = output;\n  }\n\n  return results;\n}","map":{"version":3,"sources":["/Users/adamchazan/Documents/hcil-site/src/calculations.js"],"names":["CALCULATIONS","CELL_TYPES","mean","input","output","columnID","column","sum","i","length","median","midpoint","sorted","sort","a","b","console","log","Math","floor","max","min","dumbdata","data","columnOne","columnTwo","columnThree","docalculations","cells","cellIDs","results","cellID","type","calculation","chart","loadData"],"mappings":"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","sourcesContent":["import { CALCULATIONS, CELL_TYPES } from \"./constants.js\";\n\n// calculate mean\nexport function mean(input) {\n  const output = {};\n\n  for (const columnID in input) {\n    const column = input[columnID];\n\n    let sum = 0;\n    for (let i in column) {\n      sum += column[i];\n    }\n\n    const mean = sum / column.length;\n    output[columnID] = [mean];\n  }\n\n  return output;\n}\n\n// calculate median\nexport function median(input) {\n  const output = {};\n\n  for (const columnID in input) {\n    const column = input[columnID];\n\n    let midpoint = 0;\n    let median = 0;\n    if (column.length % 2 === 0) {\n      //even\n      midpoint = column.length / 2;\n\n      // need to order by value first\n      const sorted = [...column].sort((a, b) => a - b);\n      console.log(sorted);\n      median = (sorted[midpoint] + sorted[midpoint - 1]) / 2;\n    }\n\n    if (column.length % 2 === 1) {\n      //odd\n      midpoint = Math.floor(column.length / 2);\n\n      // need to order by value first\n      const sorted = [...column].sort();\n      median = sorted[midpoint];\n    }\n    output[columnID] = [median];\n  }\n  return output;\n}\n\n// calculate maximum\nexport function max(input) {\n  const output = {};\n\n  for (const columnID in input) {\n    const column = input[columnID];\n\n    let max = 0;\n    for (let i in column) {\n      if (column[i] > max) {\n        max = column[i];\n      }\n    }\n    output[columnID] = [max];\n  }\n  return output;\n}\n\n// calculate minimum\nexport function min(input) {\n  const output = {};\n\n  for (const columnID in input) {\n    const column = input[columnID];\n\n    let min = 0;\n    for (let i in column) {\n      if (column[i] < min) {\n        min = column[i];\n      }\n    }\n    output[columnID] = [min];\n  }\n  return output;\n}\n\n// create template data\nexport function dumbdata() {\n  const data = {\n    columnOne: [1, 4, 6, 5, 3, 2, 35, 6, 7, 4],\n    columnTwo: [32, 4, 7, 11, 27, 1, 4, 15, 5, 2],\n    columnThree: [8, 4, 3, 6, 77, 33, 56, 2, 1, 3],\n  };\n\n  return data;\n}\n\n// perform calculation\nexport function docalculations(cells, cellIDs) {\n  const results = {};\n\n  for (const i in cellIDs) {\n    const input = i === 0 ? {} : results[cellIDs[i - 1]];\n\n    let output;\n    const cellID = cellIDs[i];\n    switch (cells[cellID].type) {\n      case CELL_TYPES.calculation:\n        switch (cells[cellID].calculation) {\n          case CALCULATIONS.mean:\n            output = mean(input);\n            break;\n          case CALCULATIONS.median:\n            output = median(input);\n            break;\n          case CALCULATIONS.min:\n            output = min(input);\n            break;\n          case CALCULATIONS.max:\n            output = max(input);\n            break;\n        }\n        break;\n      case CELL_TYPES.chart:\n        output = {};\n        break;\n      case CELL_TYPES.loadData:\n        output = dumbdata();\n        break;\n    }\n    results[cellID] = output;\n  }\n  return results;\n}\n"]},"metadata":{},"sourceType":"module"}